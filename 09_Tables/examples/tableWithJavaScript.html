<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>States of the US</title>
  <style>
        body {--borderColor:white;}
        table,tr,td,th {border:1px solid var(--borderColor);
                     border-collapse:separate;
        }
        table caption{
            font-size:200%;
            font-weight:bold;
            border:1px solid var(--borderColor);
            padding:0.5em;
        }
        .number{
          text-align:right;
          padding-right:0.5em;
        }
        .capital { text-align:center; }
        .alpha {padding-left:0.5em;}
        thead {background-color:lightblue;}
        tbody {background-color:tan;}
        tfoot {background-color:lightsalmon;}
        img {width:150px;}
    </style>
  <script src="states.json">   </script>
  <script>// https://raw.githubusercontent.com/CivilServiceUSA/us-states/master/data/states.json

  function makeTable(){
    let usFormat = new Intl.NumberFormat('en-US');
    let totalPopulation = 0;
    console.log (states);
    let tBody = '';
    for(st of states){
      console.log(st);
      totalPopulation += st.population;
      let row = '<tr>';
      row += '<td class="alpha"><a href="' + st.website +'">' + st.state + '</a></td>';
      row += '<td class="alpha capital">' + st.capital_city + '</td>';
      row += '<td class="number">'+usFormat.format(st.population)+'</td>';
      row += '<td>' + '<img src="'+st.state_flag_url+'" alt=" State Flag of '+st.state+'"></td>'
      row += '</tr>';
      tBody += row;
    }
    
    let location = document.getElementById("location");
    location.innerHTML = tBody;
    let populationLocation = document.getElementById("totalPopulation");
    populationLocation.innerText = usFormat.format(totalPopulation);
  }
  </script>
</head>
<body onload="makeTable()">
  <h1>States</h1>
  <p>Table Body generated by JavaScript</p>
<table id="states">
        <caption>Some data about selected states</caption>
        <thead>
            <tr>
                <th>State</th><th>Capital</th><th>Population</th><th>Flag</th>
            </tr>
        </thead>
        <tbody id="location">
           
    </tbody>
    <tfoot>
        <tr>
            <td colspan="4" class="number">Total Population: <span id="totalPopulation">&nbsp;</span></td>
        </tr>
    </tfoot>    
    </table>
</body>
</html>